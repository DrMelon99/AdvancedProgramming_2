# AdvancedProgramming
한남대학교 23년도 2학기 고급프로그래밍 팀 프로젝트

---
## 팀원
박제혁, 명지호, 오소민

---
### 실행
1. 실행 방법 -> jjuggumi_game\jjuggumi_game.sln을 Visual Studio로 연 다음, F5로 디버깅 및 실행
2. jjuggumi_game\x64\Debug\jjuggumi_game.exe 실행

---
#### 과제 세부사항
📋 기능 분석 중
⚙️ 기능 구현 진행 전
🔨 기능 구현 진행 중
✅ 기능 구현 완료

0. 시스템 변경사항
```
⚙️ 콘솔 상에서 표시되는 다이얼로그의 한국어 깨짐 이슈로 인해 게임의 언어를 한국어에서 영어로 변경
    원인 분석 : 문자형 배열 속 한국어 배치가 버퍼 교환형식의 화면 출력과 어긋나는 것으로 보임.
🔨 프로젝트 리팩토링
🔨 게임 4종류를 각자 다른 소스파일로 구분
```
1. 플레이어 관련
```
🔨 플레이어 정보를 구조체 형식으로 변환
    player[] -> 구조체 변경
    ⚙️ 기존에 각 플레이어의 위치 정보를 저장하는 변수를 player[] 구조체 안으로 이동후 정리
    ⚙️ 기존에 있던 "무궁화 꽃이 피었습니다"의 player 관련 변수를 새로 바뀐 player[]구조체에 모두 적용 (기존 player변수 삭제)
✅ jjuggumi.dat 파일에서 데이터 읽어오는 코드 추가 및 적용
✅ 각 플레이의 스탯 구성
    지능(intel), 힘(str), 스태미나(stamina)
✅ 아이템 정보 추가
    아이템의 개수
        이름, 지능 버프, 힘 버프, 스태미나 버프
✅ 오류처리 (return -1)
    플레이어 데이터를 불러오는데 문제가 있으면 오류 출력
⚙️ 게임이 하나씩 끝날 때마다 스태미나 일정량 회복(40 ~ 50%)
    스태미나 회복 아이템을 장착하는 시점에 회복함
```
2. 화면 관련
```
⚙️ 플레이어의 스탯 표시
    기본 스탯 (+ 아이템 버프)
```
3. 야간운동
```
⚙️ 0번 플레이어가 탈락하면 게임 자동 진행
🔨 아이템과 플레이어를 무작위로 배치
    ⚙️ 아이템 개수는 "시작 플레이어 - 1"
    ⚙️ 아이템의 종류는 배치 될때 결정이 되어있어야 함
⚙️ 각 플레이어는 아이템을 하나씩 획득 가능하며, 아이템 소지 상태에 따라 자유롭게 구현하기
⚙️ 나머지 플레이어는 <아이템 / 아이템을 소지한 플레이어>를 향해 이동
    ⚙️ 주기는 랜덤으로, 적당히 맞출 것
⚙️ 아이템 획득
    ⚙️ 0번 플레이어의 경우, 이미 아이템을 소지한 상태라면 <교환 / 무시> 선택 가능
    ⚙️ 나머지 플레이어는 50% 확률로 <교환 / 무시>
    ⚙️ 상호작용 결과를 다이얼로그에 표시
⚙️ 플레이어끼리 만났을 경우 (인접 칸)
    <강탈 20% / 회유 20% / 무시 40%>
        강탈 (유효 힘을 비교해서 더 크다면 성공)
            아이템 <강탈 / 교환(시도 플레이어가 이미 아이템이 있으면)>
            성공 시 스태미나 -40%, 실패 시 스태미나 -60%
            현재 스태미나가 0%보다 크면 가능
        회유 (유효 지능을 비교해서 더 크다면 성공)
            아이템 <강탈 / 교환(시도 플레이어가 이미 아이템이 있으면)>
            성공 시 스태미나 -20%, 실패 시 스태미나 -40%
            현재 스태미나가 0%보다 크면 가능
        무시
            그냥 지나감
    0번 플레이어의 경우, 게임을 잠시 멈추고 선택지를 고름
    나머지 플레이어
        두명 중 아이템이 없는 플레이어가 선택지를 무작위로 선택
        둘다 아이템이 있거나 없는 경우에는 아무나 한명이 행동함
    상호작용 결과를 다이얼로그에 표시
```
4. 줄다리기
```
⚙️ 모든 플레이어가 참가
    줄다리기는 패자 부활전이며, 탈락했던 플레이어는 아이템이 없는 상태로 시작하며 줄다리기를 이기면 부활, 지면 탈락함
        탈락했던 플레이어의 정보에 '*'을 붙임
    탈락하지 않았던 플레이어가 패배할 시, 소지 아이템을 몰수하고 힘과 지능 기본값이 절반으로 하락함
⚙️ 충분한 길이의 맵을 생성
    맵의 가운데에는 구멍을 생성
    플레이어들 사이의 3칸은 '---'로 채움
    플레이어들을 가운데를 가운데를 기준으로 번갈아 왼쪽, 오른쪽으로 배치 (ex. 6420---1357)
⚙️ 줄 당기기
    각 양측의 유효 힘의 합을 더해 음수면 왼쪽으로, 양수면 오른쪽으로 이동
        만약 플레이어가 구멍에 빠지면 탈락 및 탈락자 다이얼로그에 표시
    
⚙️ 게임 조작 (게임 마스터)
    줄 당기기
        'z' -> 왼쪽으로 당김 str -1, '/' 오른쪽으로 당김 str + 1
    눕기
        'x' -> 왼쪽 팀 누움, '.' -> 오른쪽 팀 누움
        눕기를 쓴 팀은 순간적으로 힘이 두배가 되고, 그 시간에는 2칸을 움직임
        두 팀이 함꼐 누울 수 있음
        눕기를 사용할 시 모든 플레이어는 스태미나가 -30%
        다이얼로그에 표시
```
5. 제비뽑기
```
⚙️ 남은 참가자 만큼 제비를 준비하고 섞음
    1개만 탈락이며, 나머지는 통과
⚙️ 좌우 화살표로 제비를 고르고, 스페이스 바로 제비를 뽑음
⚙️ 통과 / 탈락 다이얼로그를 출력
    현재 라운드, n번째 플레이어 차례
⚙️ 한명만 남으면 즉시 엔딩으로 넘어가서 쭈꾸미 게임을 종료함
⚙️ 강제종료 'q'를 눌러 종료가 된 시점에서 생존자가 2명 이상이면 "우승자를 가리지 못했습니다." 출력
```
